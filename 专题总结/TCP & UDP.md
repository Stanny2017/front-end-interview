# TCP与UDP区别总结

都是传输层通信协议

1、TCP面向字节流进行传输;UDP是面向报文的。
2、TCP面向连接（如打电话要先拨号建立连接）通过三次握手建立连接，四次挥手断开连接;UDP是无连接的，即发送数据之前不需要建立连接。
3、使用TCP协议比UDP 更可靠， TCP 可以保证传送的数据没有丢失且顺序不会错乱，消息在传输的过程中 可能会丢失，可能会乱序，tcp 会将丢失的部分进行重传，并且重新排序，udp 不会。
4、 tcp 确保可靠性关键在于滑动窗口协议，每次发送数据收到接收方的确认就移动窗口离开已发送的数据。

## TCP 三次握手

客户端和服务端通过 tcp 三次握手建立连接

通俗的讲一下建立连接的过程，

1. 客户端此时要发送数据，于是第一次握手告诉服务端 我这里有数据要发给你，你那里 ok 吗
此时服务端回应：我这里可以接收数据；此时客户端还需再发送一条信息给服务端确认请求连接，这三次握手后，连接就被建立了

2. 之所以还需要再确认一次是因为可能会有这样的情况，因为网络延迟的原因导致之前失效的连接请求又被服务端接收了，如果是两次握手的话，服务端收到回复确认之后，连接就建立了，而此时客户端并没有数据要发送，于是这次的连接就是无效的连接

3. 但如果是三次握手的话，遇到刚刚那种情况，客户端就不再发送第三次确认，因此连接也会建立。

## TCP 四次挥手



## 七层网络模型

![image](https://uploadfiles.nowcoder.net/images/20170221/3376963_1487669763810_92C6A2EF3BAA43B44BAC7C8EDB09DC1F)


![image](https://uploadfiles.nowcoder.net/images/20170221/3376963_1487669784925_BE9C8D014E82DE000B3F6885F96CCF90)

http、ftp 都属于 应用层
tcp、udp 都属于 传输层